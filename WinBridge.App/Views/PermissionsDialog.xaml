<?xml version="1.0" encoding="utf-8"?>
<ContentDialog
    x:Class="WinBridge.App.Views.PermissionsDialog"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Title="Permissions du fichier"
    PrimaryButtonText="Appliquer"
    CloseButtonText="Annuler"
    DefaultButton="Primary"
    PrimaryButtonClick="ContentDialog_PrimaryButtonClick">

    <StackPanel Spacing="16" Width="400">
        <!-- File Path Display -->
        <StackPanel Spacing="4">
            <TextBlock Text="Fichier" FontWeight="SemiBold" FontSize="12" Foreground="{ThemeResource TextFillColorSecondaryBrush}"/>
            <TextBlock x:Name="FilePathText" TextWrapping="Wrap" FontFamily="Consolas" FontSize="11"/>
        </StackPanel>

        <!-- Permissions Grid (rwx for Owner, Group, Others) -->
        <StackPanel Spacing="12">
            <TextBlock Text="Permissions UNIX (chmod)" FontWeight="SemiBold"/>
            
            <!-- Owner -->
            <Grid ColumnDefinitions="100,*" ColumnSpacing="12">
                <TextBlock Text="Propriétaire" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <CheckBox x:Name="OwnerRead" Content="Lire (r)" IsChecked="True"/>
                    <CheckBox x:Name="OwnerWrite" Content="Écrire (w)" IsChecked="True"/>
                    <CheckBox x:Name="OwnerExecute" Content="Exécuter (x)"/>
                </StackPanel>
            </Grid>

            <!-- Group -->
            <Grid ColumnDefinitions="100,*" ColumnSpacing="12">
                <TextBlock Text="Groupe" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <CheckBox x:Name="GroupRead" Content="Lire (r)" IsChecked="True"/>
                    <CheckBox x:Name="GroupWrite" Content="Écrire (w)"/>
                    <CheckBox x:Name="GroupExecute" Content="Exécuter (x)"/>
                </StackPanel>
            </Grid>

            <!-- Others -->
            <Grid ColumnDefinitions="100,*" ColumnSpacing="12">
                <TextBlock Text="Autres" VerticalAlignment="Center"/>
                <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="12">
                    <CheckBox x:Name="OthersRead" Content="Lire (r)" IsChecked="True"/>
                    <CheckBox x:Name="OthersWrite" Content="Écrire (w)"/>
                    <CheckBox x:Name="OthersExecute" Content="Exécuter (x)"/>
                </StackPanel>
            </Grid>
        </StackPanel>

        <!-- Octal Display -->
        <Grid ColumnDefinitions="Auto,*" ColumnSpacing="8">
            <TextBlock Text="Valeur octale:" VerticalAlignment="Center" FontWeight="SemiBold"/>
            <TextBlock x:Name="OctalDisplay" Grid.Column="1" Text="755" FontFamily="Consolas" FontSize="18" Foreground="{ThemeResource SystemAccentColor}"/>
        </Grid>

        <!-- Error Message -->
        <TextBlock x:Name="ErrorMessage" Foreground="{ThemeResource SystemFillColorCriticalBrush}" TextWrapping="Wrap" Visibility="Collapsed"/>
    </StackPanel>
</ContentDialog>
